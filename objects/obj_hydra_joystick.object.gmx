<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_joystick</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z=0;

roll = 0;
pitch = 0;
yaw = 0;

q0=0;
q1=0;
q2=0;
q3=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x = GMHD_getJoystickX(controller_id)/2 + obj_hydrabase.x;
y = GMHD_getJoystickZ(controller_id)/2 + obj_hydrabase.y;
z = GMHD_getJoystickY(controller_id)/2;

//yaw = radtodeg(GMHD_getJoystickYaw(controller_id));
//pitch = radtodeg(GMHD_getJoystickPitch(controller_id));
//roll = radtodeg(GMHD_getJoystickRoll(controller_id));

d3d_transform_set_identity();
//d3d_transform_add_rotation_z(yaw);
//d3d_transform_add_rotation_x(pitch);
//d3d_transform_add_rotation_y(roll);

q0 = GMHD_getJoystickQuaternion(controller_id,0); //p
q1 = GMHD_getJoystickQuaternion(controller_id,1); //y
q2 = GMHD_getJoystickQuaternion(controller_id,2); //r
q3 = GMHD_getJoystickQuaternion(controller_id,3);

q0 = q0 + global._GMH_q0Offset[controller_id];
q1 = q1 + global._GMH_q1Offset[controller_id];
q2 = q2 + global._GMH_q2Offset[controller_id];
q3 = q3 + global._GMH_q3Offset[controller_id];


//d3d_add_rotation_quaternion(q0,q1,q2,q3);
d3d_transform_add_rotation_x(q0*180);
d3d_transform_add_rotation_z(q1*180);
d3d_transform_add_rotation_y(q2*180);

d3d_transform_add_translation(x,y,z);
d3d_model_draw(global.joystick,0,0,0,tex_test);
d3d_transform_set_identity();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>GMHD_calibrateRotation(controller_id);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>5,13</point>
    <point>14,14</point>
  </PhysicsShapePoints>
</object>
